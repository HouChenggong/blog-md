## 缓存相关

一般熟悉的是redis缓存

### 如何设置和验证缓存类型
#### 设置缓存类型
- 指定缓存类型,配置文件指定如下：
`spring.cache.type=simple`或者`spring.cache.type=caffeine`
#### 验证缓存类型
其实缓存设置的时候,可以指定缓存类型比如`@Cacheable(cacheNames = {"user"}, key = "#id")`这个就没有指定缓存类型，但是实际的注解如下，我们发现有个`cacheManager`属性,所以我们可以验证下项目启动的时候默认的缓存类型

```java
@Target({ElementType.TYPE, ElementType.METHOD})
@Retention(RetentionPolicy.RUNTIME)
@Inherited
@Documented
public @interface Cacheable {
    @AliasFor("cacheNames")
    String[] value() default {};

    @AliasFor("value")
    String[] cacheNames() default {};
    
    String key() default "";
    
    String keyGenerator() default "";
    
    String cacheManager() default "";
    
    String cacheResolver() default "";
    
    String condition() default "";
    
    String unless() default "";
    
    boolean sync() default false;
}
```

所有的缓存类型都在`org.springframework.boot.autoconfigure.cache;`这个包下面

启动的时候在这两个类上面打个断点就能判断了，进入哪个就是使用的哪个缓存

```java
SimpleCacheConfiguration 
CaffeineCacheConfiguration
```

或者在这两个类的pu t或者gē t方法里面打个断点,就知道自己系统到底用的是哪个缓存了

```java
ConcurrentMapCache

CaffeineCache
```



### 本项目缓存类型-Caffeine

### redis



### JVM-ecache



### JVM-guava



### JVM-caffeine